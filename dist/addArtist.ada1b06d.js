window.onload=function(){let e=document.getElementById("add-media"),t=document.getElementById("media-container");e&&t&&e.addEventListener("click",()=>{let e=document.createElement("div");e.className="media-block";let l=document.createElement("input");l.className="media-link",l.type="url",l.name="mediaLinks[]",l.placeholder="e.g., https://www.youtube.com/song";let a=document.createElement("label"),i=document.createElement("input");i.className="explicit-flag",i.type="checkbox",i.name="explicitFlags[]",a.appendChild(i),a.appendChild(document.createTextNode(" explicit")),e.appendChild(l),e.appendChild(a),t.appendChild(e)});let l=document.querySelector("#newArtist-form");l.addEventListener("submit",function(e){e.preventDefault();let t=document.querySelector("#social-media").value,a=[],i=t.split(",").map(e=>e.trim()).filter(e=>e.length>0),n=/^((https?:\/\/)?[\w-]+\.[\w.-]+)/i;for(let e=0;e<i.length;e++){let t=i[e];if(!n.test(t))return void alert(`Invalid social media link found:

Social Link #${e+1}: "${t}"`);a.push(t)}let d=Array.from(document.querySelectorAll(".media-link")).map(e=>e.value.trim()).filter(e=>e.length>0),c=document.querySelectorAll(".explicit-flag"),m=[];c.forEach(e=>{m.push(e.checked)});let o=l.artistName.value,r=l.genre.value,u=l.description.value;l.querySelector("#formattedData").value=JSON.stringify({artistName:o,genre:r,description:u,mediaLinks:d,explicitFlags:m,socialMedia:a}),l.submit()})};
//# sourceMappingURL=addArtist.ada1b06d.js.map
